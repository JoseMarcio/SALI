<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html lang="pt-br" 
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template/area-instituicao.xhtml">

        <ui:define name="titulo">
            Alterar Turma
        </ui:define>


        <ui:define name="corpo">

            <!-- Formulário para alterar professores. -->
            <h:form>

                <p:panel>
                    <h4>Alterar Turmas</h4>
                    <p:separator /> 

                    <p:panel id="painelMensagem" rendered="#{turmaAlterarBean.renderPainelMensagem}">

                        <p:separator />

                        <h4>Nenhuma Turma Selecionada</h4>

                    </p:panel>


                    <p:panel id="painelAlterarTurma" rendered="#{turmaAlterarBean.renderPainelAlterar}">

                        <p:separator />


                        <p:outputLabel value="Nome da Turma"/>
                        <p:inputText value="#{turmaAlterarBean.turma.nome}"
                                     required="true" 
                                     requiredMessage="Informe o nome da turma." 
                                     placeholder="Nome da turma"
                                     class="form-control"/>


                        <p:outputLabel value="Professor"/>
                        <p:inputText value="#{turmaAlterarBean.turma.professor.nome}"
                                     disabled="true" 
                                     id="professor" 
                                     class="form-control"/>

                        <p:commandButton icon="ui-icon-search"
                                         title="Pesquisar Professor" 
                                         action="#{pesquisarProfessorBean.abrirDialogoPesquisa()}"
                                         process="@this" 
                                         immediate="true">

                            <p:ajax event="dialogReturn" 
                                    listener="#{turmaAlterarBean.eventoSelecaoProfessor}"
                                    update="professor atualizar"/>

                        </p:commandButton>

                        <p:messages autoUpdate="true" showIcon="false" closable="true"/>




                        <br />
                        <center>
                            <p:commandButton action="#{turmaAlterarBean.atualizar()}" 
                                             value="Salvar" 
                                             icon="ui-icon-check"
                                             title="Salvar Alterações"
                                             id="atualizar" 
                                             style="width: 195px;" 
                                             update="@form"/>                        

                        </center>

                    </p:panel>
                    <p:commandButton value="Pesquisar" 
                                     icon="ui-icon-search"  
                                     title="Pesquisar Turma"
                                     actionListener="#{turmaPesquisarBean.abrirDialogoPesquisa()}"
                                     process="@this">

                        <p:ajax event="dialogReturn" listener="#{turmaAlterarBean.eventoSelecaoTurma}"  update="@form" immediate="true"/>
                    </p:commandButton>

                </p:panel>
            </h:form>

        </ui:define>
    </ui:composition>
</html>

